<div>


  <div class="spinner-container" *ngIf="dataSource.loading$ | async">

      <mat-spinner></mat-spinner>

  </div>
  <mat-card>
    <span>Balance: </span>{{balance|currency}}
  </mat-card>
  <mat-table class="mat-elevation-z8" [dataSource]="dataSource"
             matSort matSortActive="date" matSortDirection="asc" matSortDisableClear>

      
      <ng-container matColumnDef="type">

          <mat-header-cell *matHeaderCellDef>Trasaction Type</mat-header-cell>

          <mat-cell 
                    *matCellDef="let transaction">{{transaction.type}}</mat-cell>

      </ng-container>
      <ng-container matColumnDef="date">

            <mat-header-cell *matHeaderCellDef>Date</mat-header-cell>
  
            <mat-cell 
                      *matCellDef="let transaction">{{transaction.transactionDate|date:"yyyy-MM-dd HH:mm:ss"}}</mat-cell>
  
      </ng-container>
      <ng-container matColumnDef="amount">

        <mat-header-cell *matHeaderCellDef>Amount</mat-header-cell>

        <mat-cell 
                  *matCellDef="let transaction">{{getAmount(transaction)|currency}}</mat-cell>

  </ng-container>
  <ng-container matColumnDef="name">

        <mat-header-cell *matHeaderCellDef mat-sort-header></mat-header-cell>

        <mat-cell *matCellDef="let transaction">
            <div *ngIf="transaction.type=='DEPOSIT';">
            <a [routerLink] ="['../deposit',transaction.transactionId]" >View Detail</a>
            </div>
            <div *ngIf="transaction.type=='ORDER' || transaction.type =='REFUND' ;">
                    <a [routerLink] ="['../trnsctns',transaction.transactionId]" >View Detail</a>
                    </div>
         </mat-cell>

  </ng-container>
      <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
      <mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>
  </mat-table>
  <mat-paginator [length]="dataSource.count" [pageSize]="5"
                 [pageSizeOptions]="[5, 10]"></mat-paginator>
</div>